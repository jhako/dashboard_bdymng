(this["webpackJsonpreact-sqljs-demo"]=this["webpackJsonpreact-sqljs-demo"]||[]).push([[0],{126:function(t,e,n){},134:function(t,e){},136:function(t,e){},147:function(t,e){},149:function(t,e){},176:function(t,e){},178:function(t,e){},179:function(t,e){},184:function(t,e){},186:function(t,e){},192:function(t,e){},194:function(t,e){},213:function(t,e){},225:function(t,e){},228:function(t,e){},233:function(t,e,n){"use strict";n.r(e);var a=n(5),c=n.n(a),r=n(116),u=n.n(r),i=n(35),s=n(13),o=n(23),l=n.n(o),f=(n(126),n(127));n(128);for(var b=[],d=1;d<7;++d){var m=String(d).padStart(2,"0");b.push("2022-".concat(m,"-01 00:00:00"))}function h(t,e){return f.generate({bindto:t,data:{x:"x",xFormat:"%Y-%m-%d %H:%M:%S",columns:[["x"].concat(e.date),["y1"].concat(e.pace),["y2"].concat(e.distance)],names:{y1:"pace",y2:"distance"},axes:{y1:"y",y2:"y2"}},axis:{x:{type:"timeseries",min:b.at(0),max:b.at(-1),tick:{rotate:90,count:10,format:"%m/%d",values:b,outer:!1}},y:{tick:{format:function(t){return(t-(t%=60))/60+(9<t?":":":0")+Math.round(t)}},max:420,min:240},y2:{show:!0}},size:{height:240},grid:{x:{show:!0},y:{show:!0}}})}var j=n(117),y=n(120),p=n(118),x=n.n(p),v=n(119),O=x()({locateFile:function(){return v.a}});function g(t,e){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(l.a.mark((function t(e,n){var a,c,r,u,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=fetch(e).then((function(t){return t.arrayBuffer()})),t.next=3,Promise.all([O,a]);case 3:return c=t.sent,r=Object(s.a)(c,2),u=r[0],i=r[1],o=function(){var t=new u.Database(new Uint8Array(i)).exec(n)[0],e=t.columns,a=t.values;return a=a[0].map((function(t,e){return a.map((function(t){return t[e]}))})),Object(y.a)(Array(a.length).keys()).reduce((function(t,n){return Object.assign(t,Object(j.a)({},e[n],a[n]))}),{})}(),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=n(8);function S(t){var e=t.items,n=t.value,c=t.setVal,r=e.map((function(t){return Object(k.jsx)("option",{value:t,children:t},t)})),u=Object(a.useCallback)((function(t){c(t.target.value)}),[c]);return Object(k.jsx)("select",{value:n,onChange:u,children:r})}function _(){var t=Object(a.useState)("muscle"),e=Object(s.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)("distance"),u=Object(s.a)(r,2),o=u[0],d=u[1],m=Object(a.useState)({chart:null,tb:null}),j=Object(s.a)(m,2),y=j[0],p=j[1],x=Object(a.useState)({chart:null,tb:null}),v=Object(s.a)(x,2),O=v[0],w=v[1];Object(a.useEffect)((function(){Object(i.a)(l.a.mark((function t(){var e,n,a,c,r,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([g("/db/body_app.db","select * from tb_body order by date"),g("/db/fitbit.db","select * from tb_running order by date")]);case 2:e=t.sent,n=Object(s.a)(e,2),a=n[0],c=n[1],i="#chart-weight",o=a,r=f.generate({bindto:i,point:{r:2},data:{x:"x",xFormat:"%Y-%m-%d %H:%M:%S",columns:[["x"].concat(o.date),["y1"].concat(o.weight_kg),["y2"].concat(o.muscle)],names:{y1:"weight",y2:"muscle"},axes:{y1:"y",y2:"y2"}},axis:{x:{type:"timeseries",min:b.at(1),max:b.at(-1),tick:{rotate:90,count:10,format:"%m/%d",values:b,outer:!1}},y2:{show:!0}},size:{height:240},grid:{x:{show:!0},y:{show:!0}}}),u=h("#chart-pace-dist",c),p({chart:r,tb:a}),w({chart:u,tb:c});case 10:case"end":return t.stop()}var i,o}),t)})))()}),[]),Object(a.useEffect)((function(){null!=y.chart&&y.chart.load({columns:[["y2"].concat(y.tb[n])],names:{y2:n}})}),[n,y]),Object(a.useEffect)((function(){null!=O.chart&&O.chart.load({columns:[["y2"].concat(O.tb[o])],names:{y2:o}})}),[o,O]);return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(S,{items:["bmi","fat_per","muscle"],value:n,setVal:c}),Object(k.jsx)("div",{id:"chart-weight"}),Object(k.jsx)(S,{items:["calories","distance","ave_heart_rate","elevation_gain"],value:o,setVal:d}),Object(k.jsx)("div",{id:"chart-pace-dist"})]})}var E=document.getElementById("root");u.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(_,{})}),E)}},[[233,1,2]]]);
//# sourceMappingURL=main.904c4b9e.chunk.js.map
(this["webpackJsonpreact-sqljs-demo"]=this["webpackJsonpreact-sqljs-demo"]||[]).push([[0],{126:function(t,e,n){},134:function(t,e){},136:function(t,e){},147:function(t,e){},149:function(t,e){},176:function(t,e){},178:function(t,e){},179:function(t,e){},184:function(t,e){},186:function(t,e){},192:function(t,e){},194:function(t,e){},213:function(t,e){},225:function(t,e){},228:function(t,e){},233:function(t,e,n){"use strict";n.r(e);var a=n(5),c=n.n(a),r=n(116),i=n.n(r),s=n(35),u=n(13),o=n(23),l=n.n(o),f=(n(126),n(127));n(128);for(var d=[],b=1;b<7;++b){var m=String(b).padStart(2,"0");d.push("2022-".concat(m,"-01 00:00:00"))}function h(t,e){return f.generate({bindto:t,data:{x:"x",xFormat:"%Y-%m-%d %H:%M:%S",columns:[["x"].concat(e.date),["y1"].concat(e.pace),["y2"].concat(e.distance)],names:{y1:"pace",y2:"distance"},axes:{y1:"y",y2:"y2"}},axis:{x:{type:"timeseries",min:d.at(0),max:d.at(-1),tick:{rotate:90,count:10,format:"%m/%d",values:d,outer:!1}},y:{tick:{format:function(t){return(t-(t%=60))/60+(9<t?":":":0")+Math.round(t)}},max:420,min:240},y2:{show:!0}},size:{height:240},grid:{x:{show:!0},y:{show:!0}}})}var j=n(117),y=n(120),p=n(118),x=n.n(p),v=n(119),O=x()({locateFile:function(){return v.a}});function g(t,e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(l.a.mark((function t(e,n){var a,c,r,i,s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=fetch(e).then((function(t){return t.arrayBuffer()})),t.next=3,Promise.all([O,a]);case 3:return c=t.sent,r=Object(u.a)(c,2),i=r[0],s=r[1],o=function(){var t=new i.Database(new Uint8Array(s)).exec(n)[0],e=t.columns,a=t.values;return a=a[0].map((function(t,e){return a.map((function(t){return t[e]}))})),Object(y.a)(Array(a.length).keys()).reduce((function(t,n){return Object.assign(t,Object(j.a)({},e[n],a[n]))}),{})}(),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=n.p+"static/media/body_app.d644a039.db",S=n.p+"static/media/fitbit.a27d7678.db",_=n(8);function E(t){var e=t.items,n=t.value,c=t.setVal,r=e.map((function(t){return Object(_.jsx)("option",{value:t,children:t},t)})),i=Object(a.useCallback)((function(t){c(t.target.value)}),[c]);return Object(_.jsx)("select",{value:n,onChange:i,children:r})}function M(){var t=Object(a.useState)("muscle"),e=Object(u.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)("distance"),i=Object(u.a)(r,2),o=i[0],b=i[1],m=Object(a.useState)({chart:null,tb:null}),j=Object(u.a)(m,2),y=j[0],p=j[1],x=Object(a.useState)({chart:null,tb:null}),v=Object(u.a)(x,2),O=v[0],w=v[1];Object(a.useEffect)((function(){Object(s.a)(l.a.mark((function t(){var e,n,a,c,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([g(k,"select * from tb_body order by date"),g(S,"select * from tb_running order by date")]);case 2:e=t.sent,n=Object(u.a)(e,2),a=n[0],c=n[1],s="#chart-weight",o=a,r=f.generate({bindto:s,point:{r:2},data:{x:"x",xFormat:"%Y-%m-%d %H:%M:%S",columns:[["x"].concat(o.date),["y1"].concat(o.weight_kg),["y2"].concat(o.muscle)],names:{y1:"weight",y2:"muscle"},axes:{y1:"y",y2:"y2"}},axis:{x:{type:"timeseries",min:d.at(1),max:d.at(-1),tick:{rotate:90,count:10,format:"%m/%d",values:d,outer:!1}},y2:{show:!0}},size:{height:240},grid:{x:{show:!0},y:{show:!0}}}),i=h("#chart-pace-dist",c),p({chart:r,tb:a}),w({chart:i,tb:c});case 10:case"end":return t.stop()}var s,o}),t)})))()}),[]),Object(a.useEffect)((function(){null!=y.chart&&y.chart.load({columns:[["y2"].concat(y.tb[n])],names:{y2:n}})}),[n,y]),Object(a.useEffect)((function(){null!=O.chart&&O.chart.load({columns:[["y2"].concat(O.tb[o])],names:{y2:o}})}),[o,O]);return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(E,{items:["bmi","fat_per","muscle"],value:n,setVal:c}),Object(_.jsx)("div",{id:"chart-weight"}),Object(_.jsx)(E,{items:["calories","distance","ave_heart_rate","elevation_gain"],value:o,setVal:b}),Object(_.jsx)("div",{id:"chart-pace-dist"})]})}var A=document.getElementById("root");i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(M,{})}),A)}},[[233,1,2]]]);
//# sourceMappingURL=main.8491edee.chunk.js.map